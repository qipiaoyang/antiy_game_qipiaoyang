var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="annie.EventDispatcher",e}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;return""==e?t=n._totalMEC:n._MECO[e]&&(t=n._MECO[e]),t},n.prototype.addEventListener=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;n||(o=i.eventTypes1),o[e]instanceof Object||(o[e]=[]),o[e].indexOf(t)<0&&(o[e].unshift(t),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!0))},n.prototype._changeMouseCount=function(e,t){var i=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=i,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var o=this;"string"==typeof t&&(o._defaultEvent instanceof e.Event?o._defaultEvent.reset(t,o):o._defaultEvent=new e.Event(t),t=o._defaultEvent);var r=o.eventTypes[t.type];if(i||(r=o.eventTypes1[t.type]),r instanceof Array){t.target instanceof Object||(t.target=o),void 0!=n&&(t.data=n);for(var a=r.length,s=a-1;s>=0;s--)t._pd||(r[s]instanceof Function?r[s](t):r.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(e,t){void 0===t&&(t=!0);var n=this;if(t){if(n.eventTypes&&n.eventTypes[e]instanceof Array&&n.eventTypes[e].length>0)return!0}else if(n.eventTypes1&&n.eventTypes1[e]instanceof Array&&n.eventTypes1[e].length>0)return!0;return!1},n.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!0);var i=this,o=i.eventTypes[e];if(n||(o=i.eventTypes1[e]),o instanceof Array)for(var r=o.length,a=r-1;a>=0;a--)o[a]==t&&(o.splice(a,1),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!1))},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);for(var t in e.eventTypes1)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes1[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes1={},e.eventTypes={}},n.prototype.destroy=function(){var e=this;e.removeAllEventListener(),e.eventTypes1=null,e.eventTypes=null,e._defaultEvent=null},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.target=null,n.data=null,n._pd=!1,n._instanceType="annie.Event",n.type=t,n}return __extends(t,e),t.prototype.stopImmediatePropagation=function(){this._pd=!0},t.prototype.destroy=function(){var e=this;e.target=null,e.data=null},t.prototype.reset=function(e,t){var n=this;n.target=t,n._pd=!1,n.type=e},t.ON_INIT_STAGE="onInitStage",t.RESIZE="onResize",t.ON_RUN_CHANGED="onRunChanged",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_ING="onScrollIng",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t.ON_DRAW_PERCENT="onDrawPercent",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n.clientX=0,n.clientY=0,n.stageX=0,n.stageY=0,n.localX=0,n.localY=0,n.currentTarget=null,n.identifier=0,n.timeStamp=0,n._instanceType="annie.MouseEvent",n}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._updateMatrix()},t.prototype.destroy=function(){this.currentTarget=null,e.prototype.destroy.call(this)},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){var i=t.call(this,n)||this;return i.clientPoint1=new e.Point,i.clientPoint2=new e.Point,i.scale=0,i.rotate=0,i._instanceType="annie.TouchEvent",i}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target._updateMatrix()},n.prototype.destroy=function(){var e=this;e.clientPoint1=null,e.clientPoint2=null,t.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=e.call(this)||this;i.x=0,i.y=0;var o=i;return o._instanceType="annie.Point",o.x=t,o.y=n,i}return __extends(t,e),t.prototype.destroy=function(){},t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case o:case-r:return 0;case i:case-i:return-1;case r:case-o:return 0;default:return Math.cos(e)}}function n(e){switch(e){case o:case-r:return 1;case i:case-i:return 0;case r:case-o:return-1;default:return Math.sin(e)}}var i=Math.PI,o=i>>1,r=i+o,a=Math.PI/180,s=function(i){function o(t,n,o,r,a,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=1),void 0===a&&(a=0),void 0===s&&(s=0);var l=i.call(this)||this;l.a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.transformPoint=function(t,n,i){void 0===i&&(i=null);var o=this;return i instanceof e.Point||(i=new e.Point),i.x=t*o.a+n*o.c+o.tx,i.y=t*o.b+n*o.d+o.ty,i},l.prepend=function(e){var t=this,n=e.a,i=e.b,o=e.c,r=e.d,a=e.tx,s=e.ty,l=t.a,c=t.c,u=t.tx;t.a=n*l+o*t.b,t.b=i*l+r*t.b,t.c=n*c+o*t.d,t.d=i*c+r*t.d,t.tx=n*u+o*t.ty+a,t.ty=i*u+r*t.ty+s};var c=l;return c._instanceType="annie.Matrix",c.a=t,c.b=n,c.c=o,c.d=r,c.tx=a,c.ty=s,l}return __extends(o,i),o.prototype.clone=function(){var e=this;return new o(e.a,e.b,e.c,e.d,e.tx,e.ty)},o.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},o.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},o.prototype.invert=function(){var e=this,t=new o(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,i=e.b,r=e.c,a=e.d,s=e.tx,l=e.ty;if(0==i&&0==r)return 0==n||0==a?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,a=t.d=1/a,t.tx=-n*s,t.ty=-a*l),t;var c=n*a-i*r;if(0==c)return t.identity(),t;c=1/c;var u=t.a=a*c;return i=t.b=-i*c,r=t.c=-r*c,a=t.d=n*c,t.tx=-(u*s+r*l),t.ty=-(i*s+a*l),t},o.prototype.createBox=function(e,i,o,r,s,l,c,u,d){var _=this;if(0!=s?l=c=s%360:(l%=360,c%=360),0==l&&0==c)_.a=o,_.b=_.c=0,_.d=r;else{l*=a,c*=a;var p=t(l),h=n(l);l==c?(_.a=p*o,_.b=h*o):(_.a=t(c)*o,_.b=n(c)*o),_.c=-h*r,_.d=p*r}_.tx=e+u-(u*_.a+d*_.c),_.ty=i+d-(u*_.b+d*_.d)},o.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},o.prototype.concat=function(e){var t=this,n=t.a,i=t.b,o=t.c,r=t.d,a=t.tx,s=t.ty,l=e.a,c=e.b,u=e.c,d=e.d,_=e.tx,p=e.ty;t.a=n*l+i*u,t.b=n*c+i*d,t.c=o*l+r*u,t.d=o*c+r*d,t.tx=a*l+s*u+_,t.ty=a*c+s*d+p},o.prototype.rotate=function(e){var t=this,n=Math.sin(e),i=Math.cos(e),o=t.a,r=t.b,a=t.c,s=t.d,l=t.tx,c=t.ty;t.a=o*i-r*n,t.b=o*n+r*i,t.c=a*i-s*n,t.d=a*n+s*i,t.tx=l*i-c*n,t.ty=l*n+c*i},o.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},o.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},o.prototype.destroy=function(){},o}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e,n,i,o){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0);var r=t.call(this)||this;r.x=0,r.y=0,r.width=0,r.height=0;var a=r;return a._instanceType="annie.Rectangle",a.x=e,a.y=n,a.height=o,a.width=i,r}return __extends(n,t),n.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},n.createFromRects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0==e.length)return null;if(1==e.length)return e[0];for(var n=e[0],i=n.x,o=n.y,r=n.width,a=n.height,s=void 0,l=void 0,c=void 0,u=void 0,d=1;d<e.length;d++)s=i+r,c=o+a,l=e[d].x+e[d].width,u=e[d].y+e[d].height,(i>e[d].x||0==s)&&(i=e[d].x),(o>e[d].y||0==c)&&(o=e[d].y),s<l&&(s=l),c<u&&(c=u),n.x=i,n.y=o,n.width=s-i,n.height=c-o;return n},n.createFromPoints=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=n[0].x,r=n[0].y,a=n[0].x,s=n[0].y,l=1;l<n.length;l++)n[l]instanceof e.Point&&(o>n[l].x&&(o=n[l].x),r>n[l].y&&(r=n[l].y),a<n[l].x&&(a=n[l].x),s<n[l].y&&(s=n[l].y));return t.x=o,t.y=r,t.width=a-o,t.height=s-r,t},n.testRectCross=function(e,t){var n,i,o,r;return n=e.x+e.width/2,i=e.y+e.height/2,o=t.x+t.width/2,r=t.y+t.height/2,Math.abs(n-o)<=e.width/2+t.width/2&&Math.abs(i-r)<=e.height/2+t.height/2},n}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.a2x_um=!1,n.a2x_ua=!1,n.stage=null,n.parent=null,n._cAlpha=1,n._cMatrix=new e.Matrix,n.mouseEnable=!0,n.name="",n._x=0,n._offsetX=0,n._offsetY=0,n._y=0,n._scaleX=1,n._scaleY=1,n._rotation=0,n._alpha=1,n._skewX=0,n._skewY=0,n._anchorX=0,n._anchorY=0,n._visible=!0,n._matrix=new e.Matrix,n._mask=null,n._cp=!0,n._isUseToMask=0,n._hitArea=null,n._bounds=new e.Rectangle,n.isNeedDraw=!1,n.soundList=[],n._a2x_res_obj={},n._isOnStage=void 0,n._changeTransformInfo=[!1,!1,!1,!1,!1,!1],n._instanceType="annie.DisplayObject",n}return __extends(n,t),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){var t=this;e!=t._x&&(t._x=e,t.a2x_um=!0),t._changeTransformInfo[0]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){var t=this;e!=t._y&&(t._y=e,t.a2x_um=!0),t._changeTransformInfo[1]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){var t=this;e!=t._scaleX&&(t._scaleX=e,t.a2x_um=!0),t._changeTransformInfo[2]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){var t=this;e!=t._scaleY&&(t._scaleY=e,t.a2x_um=!0),t._changeTransformInfo[3]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){var t=this;e==t._rotation&&0==t._skewX&&0==t._skewY||(t._rotation=e,t._skewX=0,t._skewY=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){var t=this;e!=t._alpha&&(t._alpha=e,t.a2x_ua=!0),t._changeTransformInfo[5]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){var t=this;e==t._skewX&&0==t._rotation||(t._skewX=e,t._rotation=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){var t=this;e==t._skewY&&0==t._rotation||(t._skewY=e,t._rotation=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){var t=this;e!=t._anchorX&&(t._anchorX=e,t.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){var t=this;e!=t._anchorY&&(t._anchorY=e,t.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){var t=this;e!=t._visible&&(t._cp=!0,t._visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){var n=this;t!=n._mask&&(t instanceof e.DisplayObject?t._isUseToMask++:n._mask instanceof e.DisplayObject&&n._mask._isUseToMask--,n._mask=t)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this._cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){return void 0===t&&(t=null),this._cMatrix.transformPoint(e.x,e.y,t)},Object.defineProperty(n.prototype,"hitArea",{get:function(){return this._hitArea},set:function(e){this._hitArea=e},enumerable:!0,configurable:!0}),n.prototype.hitTestPoint=function(e,t){void 0===t&&(t=!1);var i=this;if(!i.visible||!i.mouseEnable)return null;var o;return o=t?i.globalToLocal(e,n._p1):e,i._hitArea&&i._hitArea.isPointIn(o)?i:0==i._bounds.width||0==i._bounds.height?null:i._bounds.isPointIn(o)?i:null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var o=this;void 0==t&&(t=o.matrix),void 0==i&&(i=o.getBounds());var r=i.x,a=i.y,s=i.width,l=i.height;t.transformPoint(r,a,n._p1),t.transformPoint(r+s,a,n._p2),t.transformPoint(r+s,a+l,n._p3),t.transformPoint(r,a+l,n._p4),e.Rectangle.createFromPoints(n._transformRect,n._p1,n._p2,n._p3,n._p4)},n.prototype._updateMatrix=function(){var t,n,i,o,r=this,a=r.parent instanceof e.Sprite;if(t=r._cMatrix,i=r._cAlpha,a&&(n=r.parent._cMatrix,o=r.parent._cAlpha),r.a2x_um&&r._matrix.createBox(r._x,r._y,r._scaleX,r._scaleY,r._rotation,r._skewX,r._skewY,r._anchorX,r._anchorY),r._cp)r.a2x_um=r.a2x_ua=!0;else if(a){var s=r.parent;s.a2x_um&&(r.a2x_um=!0),s.a2x_ua&&(r.a2x_ua=!0)}r.a2x_um&&(t.setFrom(r._matrix),a&&t.prepend(n)),r.a2x_ua&&(i=r._alpha,a&&(i*=o)),r._cp=!1,r._cAlpha=i},n.prototype._draw=function(e){},n.prototype._render=function(t){var n=this;if(n._visible&&n._cAlpha>0){var i=e.CanvasRender._ctx,o=void 0;o=n._cMatrix,i.globalAlpha!=n._cAlpha&&(i.globalAlpha=n._cAlpha),i.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),!0===n.isNeedDraw&&n._draw(i)}},Object.defineProperty(n.prototype,"width",{get:function(){return this._updateMatrix(),this.getDrawRect(),n._transformRect.width},set:function(e){var t=this;t._updateMatrix(),t.getDrawRect();var i=n._transformRect.width;if(i>0){var o=e/i;t.scaleX*=o}else t.scaleX=1},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){return this._updateMatrix(),this.getDrawRect(),{w:n._transformRect.width,h:n._transformRect.height}},Object.defineProperty(n.prototype,"height",{get:function(){return this._updateMatrix(),this.getDrawRect(),n._transformRect.height},set:function(e){var t=this;t._updateMatrix(),t.getDrawRect();var i=n._transformRect.height;if(i>0){var o=e/i;t.scaleY*=o}else t.scaleY=1},enumerable:!0,configurable:!0}),n.prototype.stopAllSounds=function(){var e=this.soundList;if(e instanceof Array)for(var t=e.length-1;t>=0;t--)e[t].stop()},n.prototype._checkDrawBounds=function(){var t=this;if(t.stage){t.getDrawRect(t._cMatrix,t._bounds);var i=n._transformRect;t.isNeedDraw=e.Rectangle.testRectCross(i,t.stage.renderObj.viewPort)}},n.prototype.getSound=function(e){var t=this.soundList,n=[];if(t instanceof Array)if("string"==typeof e)for(var i=t.length-1;i>=0;i--)t[i].name==e&&n.push(t[i]);else e>=0&&e<t.length&&n.push(t[e]);return n},n.prototype.addSound=function(e){var t=this;t.soundList instanceof Array||(t.soundList=[]),t.soundList.push(e)},n.prototype.removeSound=function(e){var t=this.soundList;if(t instanceof Array)if("string"==typeof e)for(var n=t.length-1;n>=0;n--)t[n].name==e&&t.splice(n,1);else e>=0&&e<t.length&&t.splice(e,1)},n.prototype.destroy=function(){var e=this;e.stopAllSounds();for(var n=0;n<e.soundList.length;n++)e.soundList[n].destroy();e.soundList=null,e._a2x_res_obj=null,e.mask=null,e.parent=null,e.stage=null,e._bounds=null,e._matrix=null,e._cMatrix=null,t.prototype.destroy.call(this)},n.prototype._onRemoveEvent=function(t){var n=this;n._isOnStage=!1;var i=n.soundList;if(i.length>0)for(var o=0;o<i.length;o++)i[o].stop2();n.dispatchEvent(e.Event.REMOVE_TO_STAGE)},n.prototype._onAddEvent=function(){var t=this;t._isOnStage=!0;var n=t.soundList;if(n.length>0)for(var i=0;i<n.length;i++)n[i].play2();t.dispatchEvent(e.Event.ADD_TO_STAGE)},n.prototype._onUpdateFrame=function(t,n){void 0===t&&(t=1),void 0===n&&(n=!1),this._visible&&!n&&this.dispatchEvent(e.Event.ENTER_FRAME)},n.prototype.startDrag=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null);var i=this;e.Stage._dragDisplay=i,e.Stage._isDragCenter=t,e.Stage._lastDragPoint.x=Number.MAX_VALUE,e.Stage._lastDragPoint.y=Number.MAX_VALUE,n?(e.Stage._dragBounds.x=n.x,e.Stage._dragBounds.y=n.y,e.Stage._dragBounds.width=n.width,e.Stage._dragBounds.height=n.height):(e.Stage._dragBounds.x=0,e.Stage._dragBounds.y=0,e.Stage._dragBounds.width=Number.MIN_VALUE,e.Stage._dragBounds.height=Number.MIN_VALUE)},n.prototype.stopDrag=function(){e.Stage._dragDisplay=null},n.prototype.clearCustomTransform=function(e){void 0===e&&(e=-1);var t=this;if(e=-1)for(var n=0;n<6;n++)t._changeTransformInfo[n]=!1;else t._changeTransformInfo[e]=!1},n.prototype.clearBounds=function(){this._bounds.x=0,this._bounds.y=0,this._bounds.width=0,this._bounds.height=0},n._p1=new e.Point,n._p2=new e.Point,n._p3=new e.Point,n._p4=new e.Point,n._transformRect=new e.Rectangle,n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;n._texture=null;var i=n;return i._instanceType="annie.Bitmap",i.bitmapData=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"bitmapData",{get:function(){return this._texture},set:function(e){var t=this;e!=t._texture&&(t.clearBounds(),t._texture=e)},enumerable:!0,configurable:!0}),t.prototype._updateMatrix=function(){e.prototype._updateMatrix.call(this);var t=this,n=t._texture;if(n&&0!=n.width&&0!=n.height){var i=n.width,o=n.height;t._bounds.width==i&&t._bounds.height==o||(t._bounds.width=i,t._bounds.height=o,t.a2x_um=!0),t.a2x_um&&t._checkDrawBounds(),t.a2x_um=!1,t.a2x_ua=!1}},t.prototype._draw=function(e){var t=this;e.drawImage(t._texture,0,0)},t}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._command=[],e.beginRadialGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},e.beginRadialGradientStroke=function(e,t,i,o,r,a){void 0===i&&(i=1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),i,o,r,a)},e.a2x_ut=!0,e._instanceType="annie.Shape",e}return __extends(n,t),n.getGradientColor=function(t,i){var o,r=e.CanvasRender._ctx;o=4==t.length?r.createLinearGradient(t[0],t[1],t[2],t[3]):r.createRadialGradient(t[0],t[1],0,t[2],t[3],t[4]);for(var a=0,s=i.length;a<s;a++)o.addColorStop(i[a][0],n.getRGBA(i[a][1],i[a][2]));return o},n.getBitmapStyle=function(t){return e.CanvasRender._ctx.createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){e="rgba("+parseInt("0x"+e.substr(1,2))+","+parseInt("0x"+e.substr(3,2))+","+parseInt("0x"+e.substr(5,2))+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._command[n._command.length]=[1,e,t]},n.prototype.drawRoundRect=function(e,t,n,i,o,r,a,s){void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,c=0,u=0,d=0,_=0;o<0&&(o*=c=-1),o>l&&(o=l),r<0&&(r*=u=-1),r>l&&(r=l),s<0&&(s*=d=-1),s>l&&(s=l),a<0&&(a*=_=-1),a>l&&(a=l);var p=this._command;p[p.length]=[1,"moveTo",[e+n-r,t]],p[p.length]=[1,"arcTo",[e+n+r*u,t-r*u,e+n,t+r,r]],p[p.length]=[1,"lineTo",[e+n,t+i-s]],p[p.length]=[1,"arcTo",[e+n+s*d,t+i+s*d,e+n-s,t+i,s]],p[p.length]=[1,"lineTo",[e+a,t+i]],p[p.length]=[1,"arcTo",[e-a*_,t+i+a*_,e,t+i-a,a]],p[p.length]=[1,"lineTo",[e,t+o]],p[p.length]=[1,"arcTo",[e-o*c,t-o*c,e+o,t,o]],p[p.length]=[1,"closePath",[]]},n.prototype.moveTo=function(e,t){this._command[this._command.length]=[1,"moveTo",[e,t]]},n.prototype.lineTo=function(e,t){this._command[this._command.length]=[1,"lineTo",[e,t]]},n.prototype.arcTo=function(e,t){this._command[this._command.length]=[1,"arcTo",[e,t]]},n.prototype.quadraticCurveTo=function(e,t,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[e,t,n,i]]},n.prototype.bezierCurveTo=function(e,t,n,i,o,r){this._command[this._command.length]=[1,"bezierCurveTo",[e,t,n,i,o,r]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(e,t,n,i){var o=this._command;o[o.length]=[1,"moveTo",[e,t]],o[o.length]=[1,"lineTo",[e+n,t]],o[o.length]=[1,"lineTo",[e+n,t+i]],o[o.length]=[1,"lineTo",[e,t+i]],o[o.length]=[1,"closePath",[]]},n.prototype.drawArc=function(e,t,n,i,o){this._command[this._command.length]=[1,"arc",[e,t,n,i/180*Math.PI,o/180*Math.PI]]},n.prototype.drawCircle=function(e,t,n){this._command[this._command.length]=[1,"arc",[e,t,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(e,t,n,i){var o=.5522848,r=n/2*o,a=i/2*o,s=e+n,l=t+i,c=e+n/2,u=t+i/2,d=this._command;d[d.length]=[1,"moveTo",[e,u]],d[d.length]=[1,"bezierCurveTo",[e,u-a,c-r,t,c,t]],d[d.length]=[1,"bezierCurveTo",[c+r,t,s,u-a,s,u]],d[d.length]=[1,"bezierCurveTo",[s,u+a,c+r,l,c,l]],d[d.length]=[1,"bezierCurveTo",[c-r,l,e,u+a,e,u]]},n.prototype.clear=function(){var e=this;e._command=[],e.a2x_ut=!1,e.clearBounds()},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},n.prototype.beginBitmapFill=function(e,t){var i=this;t&&(i._isBitmapFill=t),i._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this,n=t._command;n[n.length]=[0,"fillStyle",e],n[n.length]=[1,"beginPath",[]]},n.prototype.beginStroke=function(e,t,n,i,o){void 0===t&&(t=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),this._stroke(e,t,n,i,o)},n.prototype.beginLinearGradientStroke=function(e,t,i,o,r,a){void 0===i&&(i=1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),i,o,r,a)},n.prototype.beginBitmapStroke=function(e,t,i,o,r,a){void 0===i&&(i=1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),i,o,r,a)},n.prototype._stroke=function(e,t,i,o,r){var a=this._command;a[a.length]=[0,"lineWidth",t],a[a.length]=[0,"lineCap",n._caps[i]],a[a.length]=[0,"lineJoin",n._joins[o]],a[a.length]=[0,"miterLimit",r],a[a.length]=[0,"strokeStyle",e],a[a.length]=[1,"beginPath",[]]},n.prototype.endFill=function(){var e=this,t=e._command,n=e._isBitmapFill;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"fill",[]],n&&(e._isBitmapFill=null),e.a2x_ut=!0},n.prototype.setLineDash=function(e){void 0===e&&(e=[]);var t=this._command;t[t.length]=[1,"setLineDash",[e,0]]},n.prototype.endStroke=function(){var e=this,t=e._command,n=e._isBitmapStroke;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"stroke",[]],n&&(e._isBitmapStroke=null),e.a2x_ut=!0},n.prototype.decodePath=function(e){for(var t=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=e.length,o=0;o<i;o++)0==e[o]||1==e[o]?(t.addDraw(n[e[o]],[e[o+1],e[o+2]]),o+=2):(t.addDraw(n[e[o]],[e[o+1],e[o+2],e[o+3],e[o+4]]),o+=4);t.a2x_ut=!0},n.prototype._updateMatrix=function(){t.prototype._updateMatrix.call(this);var e=this;if(e.a2x_ut){e.a2x_ut=!1;var n=e._command.length,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;if(n>0){var l=void 0,c=0,u=0,d=0;for(s=0;s<n;s++)if(l=e._command[s],1==l[0]){if("moveTo"==l[1]||"lineTo"==l[1]||"arcTo"==l[1]||"bezierCurveTo"==l[1])void 0==i&&(i=l[2][0]),void 0==o&&(o=l[2][1]),void 0==r&&(r=l[2][0]),void 0==a&&(a=l[2][1]),"bezierCurveTo"==l[1]?(i=Math.min(i,l[2][0],l[2][2],l[2][4]),o=Math.min(o,l[2][1],l[2][3],l[2][5]),r=Math.max(r,l[2][0],l[2][2],l[2][4]),a=Math.max(a,l[2][1],l[2][3],l[2][5]),c=l[2][4],u=l[2][5]):(i=Math.min(i,l[2][0]),o=Math.min(o,l[2][1]),r=Math.max(r,l[2][0]),a=Math.max(a,l[2][1]),c=l[2][0],u=l[2][1]);else if("quadraticCurveTo"==l[1]){var _=.5*(c+l[2][0]),p=.5*(u+l[2][1]),h=.5*(l[2][0]+l[2][2]),f=.5*(l[2][1]+l[2][3]);void 0==i&&(i=_),void 0==o&&(o=p),void 0==r&&(r=_),void 0==a&&(a=p),i=Math.min(i,_,h,l[2][2]),o=Math.min(o,p,f,l[2][3]),r=Math.max(r,_,h,l[2][2]),a=Math.max(a,p,f,l[2][3]),c=l[2][2],u=l[2][3]}else if("arc"==l[1]){var v=l[2][0],m=l[2][1],y=l[2][2],g=v-y,b=m-y,x=v+y,E=m+y;void 0==i&&(i=g),void 0==o&&(o=b),void 0==r&&(r=x),void 0==a&&(a=E),i=Math.min(i,g),o=Math.min(o,b),r=Math.max(r,x),a=Math.max(a,E)}}else"lineWidth"==l[1]&&d<l[2]&&(d=l[2]);if(void 0!=i||d>0){void 0==i&&(i=0,o=0),i-=d,o-=d,r+=d,a+=d;var w=r-i,T=a-o;e._bounds.x=i,e._bounds.y=o,e._bounds.width=w,e._bounds.height=T,e.a2x_um=!0}}}e.a2x_um&&e._checkDrawBounds(),e.a2x_um=!1,e.a2x_ua=!1},n.prototype._draw=function(e,t){void 0===t&&(t=!1);var n,i=this,o=i._command,r=o.length;e.translate(i._offsetX,i._offsetY);for(var a=!1,s=0;s<r;s++)if(n=o[s],n[0]>0){var l=n[2].length;if(t&&(a||"beginPath"==n[1]||"closePath"==n[1]||0==l))continue;if(0==l)e[n[1]]();else if(2==l)e[n[1]](n[2][0],n[2][1]);else if(4==l)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==l)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==l){var c=n[2][4],u=n[2][5];e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],c,u)}}else t?"strokeStyle"==n[1]?a=!0:"fillStyle"==n[1]&&(a=!1):e[n[1]]=n[2]},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,i=t._command,o=0;o<n;o++)0==i[o][0]&&("fillStyle"==i[o][1]&&e.fillColor&&i[o][2]!=e.fillColor&&(i[o][2]=e.fillColor,t.a2x_ut=!0),"strokeStyle"==i[o][1]&&e.strokeColor&&i[o][2]!=e.strokeColor&&(i[o][2]=e.strokeColor,t.a2x_ut=!0),"lineWidth"==i[o][1]&&e.lineWidth&&i[o][2]!=e.lineWidth&&(i[o][2]=e.lineWidth,t.a2x_ut=!0))},n.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(e.DisplayObject);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.mcSpeed=1,e._cMcSpeed=1,e.mouseChildren=!0,e.children=[],e._instanceType="annie.Sprite",e}return __extends(n,t),n.prototype.destroy=function(){for(var i=this,o=0;o<i.children.length;o++)i.children[o].destroy();i.parent instanceof e.Sprite&&n._removeFormParent(i.parent,i),i.children=null,i._hitArea=null,t.prototype.destroy.call(this)},n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e){t.removeChildAt(i);break}},n._getElementsByName=function(t,i,o,r,a){var s=i.children.length;if(s>0)for(var l,c=void 0,u=0;u<s;u++){if(c=i.children[u],(l=c.name)&&""!=l&&t.test(l)&&(a[a.length]=c,o))return;r&&c instanceof e.Sprite&&n._getElementsByName(t,c,o,r,a)}},n.prototype.getChildByName=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!1),!e)return null;var o,r=this;o="string"==typeof e?new RegExp("^"+e+"$"):e;var a=[];n._getElementsByName(o,r,t,i,a);var s=a.length;return 0==s?null:1==s?a[0]:a},n.prototype.addChildAt=function(t,i){if(t instanceof e.DisplayObject){var o,r=this,a=t.parent;a instanceof e.Sprite&&n._removeFormParent(a,t),o=r.children.length,i>=o?r.children[o]=t:0==i?r.children.unshift(t):r.children.splice(i,0,t),a!=r&&(t._cp=!0,t.parent=r,r._isOnStage&&!t._isOnStage&&(t.stage=r.stage,t._onAddEvent()))}},n._removeFormParent=function(e,t){for(var n=e.children,i=n.length,o=0;o<i;o++)if(n[o]==t){n.splice(o,1);break}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e)return i;return-1},n.prototype.swapChild=function(e,t){var n=this,i=-1,o=-1,r=n.children.length;if(i="number"==typeof e?e:n.getChildIndex(e),o="number"==typeof t?t:n.getChildIndex(t),i==o||i<0||i>=r||o<0||o>=r)return!1;var a=n.children[i];return n.children[i]=n.children[o],n.children[o]=a,!0},n.prototype.removeChildAt=function(e){var t,n=this,i=n.children.length-1;i<0||(t=e==i?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],n._isOnStage&&t._isOnStage&&(t._onRemoveEvent(!1),t.stage=null),t.parent=null)},n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.hitTestPoint=function(n,i){void 0===i&&(i=!1);var o=this;if(!o._visible||!o.mouseEnable)return null;if(o._hitArea)return void t.prototype.hitTestPoint.call(this,n,i);var r=n;i||(r=o.localToGlobal(n,new e.Point));for(var a,s,l=o.children.length,c={},u=l-1;u>=0;u--)if(s=o.children[u],!(s._isUseToMask>0)&&(void 0==s.mask||(void 0==c[s.mask._instanceId]&&(s.mask.hitTestPoint(r,!0)?c[s.mask._instanceId]=!0:c[s.mask._instanceId]=!1),0!=c[s.mask._instanceId]))&&(a=s.hitTestPoint(r,!0)))return a;return null},n.prototype.getBounds=function(){var t=this,n=t._bounds;n.x=0,n.y=0,n.width=0,n.height=0;var i=t.children,o=i.length;if(o>0)for(var r=0;r<o;r++)i[r].visible&&0==i[r]._isUseToMask&&i[r].getDrawRect(),e.Rectangle.createFromRects(n,e.DisplayObject._transformRect);return n},n.prototype._updateMatrix=function(){var e=this;if(e._visible){t.prototype._updateMatrix.call(this);for(var n=e.children,i=n.length,o=0;o<i;o++)n[o]._updateMatrix();e.a2x_ua=!1,e.a2x_um=!1}},n.prototype._render=function(t){var n=this,i=n.children.length;if(n._visible&&n._cAlpha>0&&i>0){for(var o=n.children,r=t,a=void 0,s=void 0,l=0;l<i;l++)s=o[l],s._isUseToMask>0||(a instanceof e.DisplayObject?s.mask instanceof e.DisplayObject&&s.mask.parent==s.parent?s.mask!=a&&(r.endMask(),a=s.mask,r.beginMask(a)):(r.endMask(),a=null):s.mask instanceof e.DisplayObject&&s.mask.parent==s.parent&&(a=s.mask,r.beginMask(a)),s._render(r));a instanceof e.DisplayObject&&r.endMask()}},n.prototype._onRemoveEvent=function(n){for(var i=this,o=null,r=i.children.concat(),a=r.length,s=a-1;s>=0;s--)(o=r[s])instanceof e.DisplayObject&&o._isOnStage&&(o._onRemoveEvent(n),o.stage=null);t.prototype._onRemoveEvent.call(this,n)},n.prototype._onAddEvent=function(){for(var n=this,i=null,o=n.children.concat(),r=o.length,a=r-1;a>=0;a--)(i=o[a])instanceof e.DisplayObject&&!i._isOnStage&&(i.stage=n.stage,i._onAddEvent());t.prototype._onAddEvent.call(this)},n.prototype._onUpdateFrame=function(e,n){void 0===e&&(e=1),void 0===n&&(n=!1);var i=this;i._cMcSpeed=i.mcSpeed*e,t.prototype._onUpdateFrame.call(this,i._cMcSpeed,n);for(var o=null,r=i.children.concat(),a=r.length,s=a-1;s>=0;s--)(o=r[s])&&o._onUpdateFrame(i._cMcSpeed,n)},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){var i=e.call(this)||this;i.media=null,i.type="",i.isPlaying=!0,i.name="",i._loop=1,i._repeate=1;var o=i;return o._instanceType="annie.Media","string"==typeof t?(o.media=document.createElement(n),o.media.src=t):o.media=t,o._SBWeixin=o._weixinSB.bind(o),o.media.addEventListener("ended",o._endEvent=function(){-1==o._loop?o.play(0):(o._loop--,o._loop>0?o.play(0,o._loop):o.stop()),o.dispatchEvent("onPlayEnd")
}.bind(o)),o.type=n.toLocaleUpperCase(),o.media.addEventListener("timeupdate",o._updateEvent=function(){o.dispatchEvent("onPlayUpdate",{currentTime:o.media.currentTime})}),o.media.addEventListener("play",o._playEvent=function(){o.dispatchEvent("onPlayStart")}),i}return __extends(t,e),t.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this;0==t?n._loop=n._repeate:(n._loop=t,n._repeate=t),n.media.currentTime!=e&&(n.media.currentTime=e);var i=window;if(i.WeixinJSBridge)try{i.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(e){n.media.play()}else n.media.play();n.isPlaying=!0},t.prototype._weixinSB=function(){this.media.play()},t.prototype.stop=function(){var e=this;e.media.pause(),e.media.currentTime=0,e.isPlaying=!1},t.prototype.pause=function(e){void 0===e&&(e=!0);var t=this;e?(t.media.pause(),t.isPlaying=!1):(t.media.play(),t.isPlaying=!0)},Object.defineProperty(t.prototype,"volume",{get:function(){return this.media.volume},set:function(e){var t=this;t.media.volume=e,t.media.muted=0==e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t=this;t.media.pause(),t.media.removeEventListener("ended",t._endEvent),t.media.removeEventListener("onPlayStart",t._playEvent),t.media.removeEventListener("timeupdate",t._updateEvent),t.media=null,e.prototype.destroy.call(this)},t}(e.EventDispatcher);e.Media=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i){var o=t.call(this,i,"Audio")||this,r=o;return r._instanceType="annie.Sound",e.Sound._soundList.push(r),r.volume=n._volume,o}return __extends(n,t),n.prototype.destroy=function(){for(var n=e.Sound._soundList.length,i=n-1;i>=0;i--)e.Sound._soundList[i]&&e.Sound._soundList[i]!=this||e.Sound._soundList.splice(i,1);t.prototype.destroy.call(this)},n.prototype.stop2=function(){var e=this;e.isPlaying&&e.media.pause()},n.prototype.play2=function(){var e=this;e.isPlaying&&e.play()},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop2():e.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].play2():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var i=e.Sound._soundList.length,o=i-1;o>=0;o--)e.Sound._soundList[o]?e.Sound._soundList[o].volume=t:e.Sound._soundList.splice(o,1);n._volume=t},n._soundList=[],n._volume=1,n}(e.Media);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._curFrame=0,e._wantFrame=1,e._lastFrameObj=null,e._isPlaying=!0,e._isFront=!0,e._floatFrame=0,e._a2x_res_class={tf:1},e._a2x_res_children=[],e._a2x_script=null,e._a2x_mode=-2,e._clicked=!1,e._a2x_sounds=null,e._instanceType="annie.MovieClip",e}return __extends(n,t),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var e=this;return e._wantFrame>0?e._wantFrame:e._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){this._isPlaying=!1},n.prototype.addFrameScript=function(e,t){var n=this;n._a2x_script instanceof Object||(n._a2x_script={}),n._a2x_script[e]=t},n.prototype.removeFrameScript=function(e){var t=this;t._a2x_script instanceof Object&&(t._a2x_script[e]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._a2x_mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var e=this;-1!=e._a2x_mode&&e._a2x_res_class.tf>1&&(e.mouseChildren=!1,e.addEventListener("onMouseDown",e._mouseEvent.bind(e)),e.addEventListener("onMuseOver",e._mouseEvent.bind(e)),e.addEventListener("onMouseUp",e._mouseEvent.bind(e)),e.addEventListener("onMouseOut",e._mouseEvent.bind(e)),e._a2x_mode=-1,e._clicked?e.totalFrames>2?e.gotoAndStop(3):e.gotoAndStop(2):e.gotoAndStop(1))},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(e){var t=this;e!=t._clicked&&(e?t._mouseEvent({type:"onMouseDown"}):t.gotoAndStop(1),t._clicked=e)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(e){var t=this;if(!t._clicked){var n=2;"onMouseDown"==e.type?t.totalFrames>2&&(n=3):"onMouseOver"==e.type?t.totalFrames>1&&(n=2):n=1,t.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var e=this;return e._a2x_res_class.tf>1&&e._a2x_res_class.l[e._curFrame-1]?e._a2x_res_class.l[e._curFrame-1]:null},n.prototype.nextFrame=function(){var e=this;e._wantFrame+=e._cMcSpeed,e._wantFrame>e._a2x_res_class.tf&&(e._wantFrame=e._a2x_res_class.tf),e._isPlaying=!1,e._onCheckUpdateFrame()},n.prototype.prevFrame=function(){var e=this;e._wantFrame-=e._cMcSpeed,e._wantFrame<1&&(e._wantFrame=1),e._isPlaying=!1,e._onCheckUpdateFrame()},n.prototype.gotoAndStop=function(e){var t=this,n=t._a2x_res_class,i=!1;"string"==typeof e?void 0!=n.label[e]&&(e=n.label[e],i=!0):"number"==typeof e&&e>=1&&e<=n.tf&&(i=!0),i&&(t._isPlaying=!1,t._floatFrame=0,t._wantFrame=e,t._onCheckUpdateFrame())},n.prototype.play=function(e){void 0===e&&(e=!0);var t=this;t._isPlaying=!0,t._isFront=e},n.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this,i=n._a2x_res_class,o=!1;"string"==typeof e?void 0!=i.label[e]&&(e=i.label[e],o=!0):"number"==typeof e&&e>=1&&e<=i.tf&&(o=!0),o&&(n._isPlaying=!0,n._isFront=t,n._floatFrame=0,n._wantFrame=e,n._onCheckUpdateFrame())},n.prototype._onCheckUpdateFrame=function(){var e=this;e._wantFrame!=e._curFrame&&e._isOnStage&&e._updateTimeline()},n.prototype._onAddEvent=function(){t.prototype._onAddEvent.call(this),this._onCheckUpdateFrame()},n.prototype._updateTimeline=function(){var t=this;if(t._a2x_res_class.tf>1&&(t._a2x_mode>=0?(t._isPlaying=!1,t.parent instanceof e.MovieClip?t._wantFrame=t.parent._wantFrame-t._a2x_mode:t._wantFrame=1):t._isPlaying&&t._wantFrame==t._curFrame&&t._visible&&(t._isFront?(t._wantFrame+=t._cMcSpeed,t._wantFrame>t._a2x_res_class.tf&&(t._wantFrame=1)):(t._wantFrame-=t._cMcSpeed,t._wantFrame<1&&(t._wantFrame=t._a2x_res_class.tf))),t._wantFrame!=t._curFrame)){var n=Math.floor(t._curFrame),i=Math.floor(t._wantFrame);if(t._floatFrame=t._wantFrame-i,t._curFrame=t._wantFrame,n!=i){t.a2x_uf=!0;var o=t._a2x_res_class,r=t._a2x_res_children,a=r.length,s=0,l=null,c=null,u=i-1,d=void 0,_=t._isFront,p=o.f[o.timeLine[u]],h=[],f=[];if(t._lastFrameObj!=p){t._lastFrameObj=p,t.children.length=0;for(var v=null,m=-1,y=a-1;y>=0;y--)s=r[y][0],l=r[y][1],c=p instanceof Object&&p.c instanceof Object?p.c[s]:null,c instanceof Object?(e.d(l,c,!0),void 0!=c.ma?(v=l,m=c.ma):v instanceof Object&&(l.mask=v,s==m&&(v=null)),t.children.unshift(l),l._isOnStage||h.unshift(l)):l._isOnStage&&f.unshift(l);t._floatFrame>0&&t._updateFrameGap();for(var g=h.length,y=0;y<g;y++)l=h[y],!l._isOnStage&&t._isOnStage&&(l._cp=!0,l.parent=t,l.stage=t.stage,l._onAddEvent());g=f.length;for(var y=0;y<g;y++)l=f[y],l._isOnStage&&t._isOnStage&&(l._onRemoveEvent(!0),l.stage=null,l.parent=null)}if(t._a2x_mode<0){var b=!1;if(t._a2x_script instanceof Object&&(d=t._a2x_script[u])instanceof Function&&(d(),b=!0),b||(d=o.a[u])instanceof Array&&t[d[0]](void 0==d[1]||d[1],void 0==d[2]||d[2]),(d=o.e[u])instanceof Array)for(var y=0;y<d.length;y++)t.dispatchEvent(e.Event.CALL_FRAME,{frameIndex:t._curFrame,frameName:d[y]});(1==t._curFrame&&!_||t._curFrame==t._a2x_res_class.tf&&_)&&t.hasEventListener(e.Event.END_FRAME)&&t.dispatchEvent(e.Event.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}var x=o.s[u];if(x instanceof Object)for(var E in x)t._a2x_sounds[E-1].play(0,x[E])}else t._floatFrame>0&&t._updateFrameGap()}},n.prototype._onUpdateFrame=function(e,n){void 0===e&&(e=1),void 0===n&&(n=!1);var i,o=this;n&&(i=o._isPlaying,o._isPlaying=!1),o._updateTimeline(),n&&(o._isPlaying=i),t.prototype._onUpdateFrame.call(this,e,n)},n.prototype._onRemoveEvent=function(e){t.prototype._onRemoveEvent.call(this,e),e&&n._resetMC(this)},n.prototype._updateFrameGap=function(){for(var e=this,t=e._a2x_res_class,n=e._a2x_res_children,i=n.length,o=0,r=null,a=null,s=null,l=Math.floor(e._curFrame),c=e._lastFrameObj,u=e._floatFrame,d=t.f[t.timeLine[l]],_=i-1;_>=0;_--)if(o=n[_][0],r=n[_][1],d&&d.c&&c&&c.c&&(a=d.c[o],void 0!=(s=c.c[o])&&void 0!=a)){if(void 0!=a.tr&&1!=a.tr.length||(a.tr=[0,0,1,1,0,0]),void 0==a.al&&(a.al=1),r._changeTransformInfo[0]||(r._x=s.tr[0]+(a.tr[0]-s.tr[0])*u),r._changeTransformInfo[1]||(r._y=s.tr[1]+(a.tr[1]-s.tr[1])*u),r._changeTransformInfo[2]||(r._scaleX=s.tr[2]+(a.tr[2]-s.tr[2])*u),r._changeTransformInfo[3]||(r._scaleY=s.tr[3]+(a.tr[3]-s.tr[3])*u),!r._changeTransformInfo[4]){var p=a.tr[4]-s.tr[4],h=a.tr[5]-s.tr[5];p>180?p-=360:p<-180&&(p+=360),h>180?h-=360:h<-180&&(h+=360),r._skewX=s.tr[4]+p*u,r._skewY=s.tr[5]+h*u}r._changeTransformInfo[5]||(r._alpha=s.al+(a.al-s.al)*u,r.a2x_ua=!0),r.a2x_um=!0}e._floatFrame=0},n._resetMC=function(e){e._wantFrame=1,e._curFrame=0,e._isFront=!0,e._floatFrame=0,e._a2x_mode<-1?e._isPlaying=!0:e._isPlaying=!1},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),e._lastFrameObj=null,e._a2x_script=null,e._a2x_res_children=null,e._a2x_res_class=null,e._a2x_sounds=null},n}(e.Sprite);e.MovieClip=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.htmlElement=null,n._isAdded=!1;var i=n;return i._instanceType="annie.FloatDisplay",i.addEventListener(e.Event.REMOVE_TO_STAGE,function(e){i.htmlElement&&(i.htmlElement.style.display="none")}),i.addEventListener(e.Event.ADD_TO_STAGE,function(e){if(i.htmlElement){var t=i.htmlElement.style;i._isAdded?i.htmlElement&&i.visible&&(t.display="inline-block"):(i._isAdded=!0,i.stage.rootDiv.insertBefore(i.htmlElement,i.stage.rootDiv.childNodes[0]))}}),n}return __extends(n,t),n.prototype.init=function(e){var t,n=this;t="string"==typeof e?document.getElementById(e):"annie.Video"==e._instanceType?e.media:e,n.htmlElement&&n.removeHtmlElement();var i=t.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var o=t.width||n.getStyle(t,"width"),r=t.height||n.getStyle(t,"height");n._bounds.width=parseInt(o),n._bounds.height=parseInt(r),n._checkDrawBounds(),n.htmlElement=t},n.prototype.getStyle=function(e,t){if(e.style[t])return e.style[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return null},n.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var n=this,i=n.htmlElement;if(i){var o=i.style,r=n._visible;if(r)if(n._isOnStage)for(var a=n.parent;a instanceof e.Sprite;){if(!a._visible){r=!1;break}a=a.parent}else r=!1;var s=r?"inline-block":"none";s!=o.display&&(o.display=s)}},n.prototype._updateMatrix=function(){var n=this,i=n.htmlElement;if(n._visible&&i){if(t.prototype._updateMatrix.call(this),n.a2x_um||n.a2x_ua){var o=i.style;if(n.a2x_um){var r=n._cMatrix,a=e.devicePixelRatio;o.transform=o.webkitTransform="matrix("+(r.a/a).toFixed(4)+","+(r.b/a).toFixed(4)+","+(r.c/a).toFixed(4)+","+(r.d/a).toFixed(4)+","+(r.tx/a).toFixed(4)+","+(r.ty/a).toFixed(4)+")"}n.a2x_ua&&(o.opacity=n._cAlpha)}n.a2x_um=!1,n.a2x_ua=!1}},n.prototype._render=function(e){},n.prototype.removeHtmlElement=function(){var e=this,t=e.htmlElement;t&&(t.style.display="none",t.parentNode&&t.parentNode.removeChild(t),e._isAdded=!1,e.htmlElement=null)},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},n}(e.DisplayObject);e.FloatDisplay=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._textAlign="left",e._textAlpha=1,e._textHeight=0,e._lineHeight=14,e._textWidth=120,e._lineType="single",e._text="",e._font="Arial",e._size=12,e._color="#fff",e._italic=!1,e._bold=!1,e._border=!1,e._stroke=0,e._strokeColor="#000",e.realLines=[],e.a2x_ut=!0,e._instanceType="annie.TextField",e}return __extends(n,t),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){var t=this;e!=t._textAlign&&(t._textAlign=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(e){var t=this;e!=t._textAlpha&&(t._textAlpha=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(e){var t=this;e!=t._textHeight&&(t._textHeight=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){var t=this;e!=t._lineHeight&&(t._lineHeight=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(e){var t=this;e!=t._textWidth&&(t._textWidth=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(e){var t=this;e!=t._lineType&&(t._lineType=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){var t=this;(e+="")!=t._text&&(t._text=e,""==t._text?(t.a2x_ut=!1,t.clearBounds()):t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){var t=this;e!=t._font&&(t._font=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){var t=this;e!=t._size&&(t._size=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){var t=this;e!=t._color&&(t._color=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(e){var t=this;e!=t._italic&&(t._italic=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(e){var t=this;e!=t._bold&&(t._bold=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(e){var t=this;e!=t._border&&(t._border=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=this;e!=t._stroke&&(t._stroke=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){var t=this;e!=t._strokeColor&&(t._strokeColor=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(t){var n=this,i=n.size||12;i+="px ",i+=n.font,n._bold&&(i="bold "+i),n._italic&&(i="italic "+i),t.font=i,t.textAlign=n._textAlign||"left",t.textBaseline="top",t.lineJoin="miter",t.miterLimit=2.5,t.fillStyle=e.Shape.getRGBA(n._color,n._textAlpha),t.strokeStyle=n.strokeColor,t.lineWidth=Math.abs(n._stroke)},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(t){return e.CanvasRender._ctx.measureText(t).width},n.prototype._updateMatrix=function(n){void 0===n&&(n=!1);var i=this;if(t.prototype._updateMatrix.call(this),i.a2x_ut){var o=e.CanvasRender._ctx;i.a2x_ut=!1;var r=i._text.toString().split(/(?:\r\n|\r|\n)/);i.realLines.length=0;var a=i.realLines;i._prepContext(o);var s=0,l=i._lineHeight;if(i._text.indexOf("\n")<0&&"single"==i.lineType){a[a.length]=r[0];var c=r[0];if(i._getMeasuredWidth(c)>i._textWidth)for(var u=i._getMeasuredWidth(c[0]),d=c[0],_=c.length,p=1;p<_;p++){if(s=o.measureText(c[p]).width,(u+=s)>i._textWidth){a[0]=d;break}d+=c[p]}}else for(var h=0,f=r.length;h<f;h++){var c=r[h];if(c){for(var u=i._getMeasuredWidth(c[0]),d=c[0],_=c.length,p=1;p<_;p++)s=o.measureText(c[p]).width,u+=s,u>i._textWidth?(a[a.length]=d,d=c[p],u=s):d+=c[p];a[a.length]=d}}var v=l*a.length+4>>0,m=i._textWidth>>0;i._offsetX=2,"center"==i._textAlign?i._offsetX+=.5*m:"right"==i._textAlign&&(i._offsetX+=m),i._bounds.width=m,i._bounds.height=v,i.a2x_um=!0}i.a2x_um&&i._checkDrawBounds(),i.a2x_um=!1,i.a2x_ua=!1},n.prototype._draw=function(e,t){void 0===t&&(t=!1);var n=this,i=n.realLines,o=n._lineHeight,r=n._bounds.width;n._prepContext(e),e.translate(n._offsetX,n._offsetY);for(var a=0;a<i.length;a++)n._stroke>0&&e.strokeText(i[a],0,a*o,r),e.fillText(i[a],0,a*o,r),n._stroke<0&&e.strokeText(i[a],0,a*o,r)},n}(e.DisplayObject);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i){void 0===i&&(i=0);var o=t.call(this)||this;o.inputType=0,o.isAutoDownKeyBoard=!0,o._size=14,o._font="Arial";var r=null,a=o;a._instanceType="annie.InputText",i<2?(r=document.createElement("input"),r.type=n._inputTypeList[i]):(r=document.createElement("textarea"),r.style.resize="none",r.style.overflow="hidden"),a.inputType=i;var s=function(){a.stage._isMouseClickCanvas&&a.isAutoDownKeyBoard&&"pc"!=e.osType&&a.htmlElement&&a.htmlElement.blur()}.bind(a);return a.addEventListener(e.Event.REMOVE_TO_STAGE,function(t){a.stage.removeEventListener(e.MouseEvent.MOUSE_DOWN,s)}),a.addEventListener(e.Event.ADD_TO_STAGE,function(t){a.stage.addEventListener(e.MouseEvent.MOUSE_DOWN,s)}),a.init(r),o}return __extends(n,t),n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000",n.htmlElement.style.padding=0,n.htmlElement.style.margin=0,n.htmlElement.onblur=function(){window.scrollTo(0,0)}},n.prototype.initInfo=function(e,t,n,i,o,r,a){var s=this;s.htmlElement.placeholder=e,s.htmlElement.style.font=i+"px "+o,s._size=i,s._font=o,s.htmlElement.style.color=t,s.htmlElement.style.textAlign=n,s.border=r,2!=s.inputType&&(s.lineHeight=a)},Object.defineProperty(n.prototype,"lineHeight",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(e){this.htmlElement.style.lineHeight=e+"px",this.htmlElement.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(e){var t=this.htmlElement.style;t.fontWeight=e?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){var t=this;t._size!=e&&(t._size=e,t.htmlElement.style.font=e+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){var t=this;e!=t._font&&(t._font=e,t.htmlElement.style.font=t._size+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(e){var t=this.htmlElement.style;t.fontStyle=e?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(e){this.htmlElement.style.height=e+"px",2!=this.inputType&&(this.htmlElement.style.lineHeight=e+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(e){this.htmlElement.style.width=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(e){this.htmlElement.style.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(e){var t=this;e?(t.htmlElement.style.borderStyle="inset",t.htmlElement.style.backgroundColor="#fff"):(t.htmlElement.style.borderStyle="none",t.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=this;if(e.htmlElement)return e.htmlElement.value},set:function(e){var t=this;t.htmlElement&&(t.htmlElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var e=this.htmlElement.getAttribute("maxlength");return null==e?0:e},set:function(e){this.htmlElement.setAttribute("maxlength",e)},enumerable:!0,configurable:!0}),n._inputTypeList=["input","password","textarea"],n}(e.FloatDisplay);e.InputText=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,o,r,a,s,l){void 0===i&&(i="annieEngine"),void 0===o&&(o=640),void 0===r&&(r=1040),void 0===a&&(a=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0);var c=t.call(this)||this;if(c.iosTouchendPreventDefault=!0,c.isPreventDefaultEvent=!0,c.rootDiv=null,c.renderObj=null,c.renderType=0,c._viewRect=new e.Rectangle,c.isMultiTouch=!1,c.isMultiMouse=!1,c.autoSteering=!1,c.autoResize=!1,c.desWidth=0,c.desHeight=0,c.divHeight=0,c.divWidth=0,c.bgColor="",c._isFullScreen=!0,c._scaleMode="onScale",c._lastDpList={},c._ml=[],c._mp=[],c._mouseDownPoint={},c._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchcancel:"onMouseUp"},c.sp=new e.Point,c.lp=new e.Point,c.muliPoints=[],c._mP1=new e.Point,c._mP2=new e.Point,c.mouseEvent=null,c._isMouseClickCanvas=!0,c.resize=function(){var t=this,n=t.getRootDivWH(t.rootDiv);if(0==t.divWidth||0==t.divHeight){if(0==n.w||0==n.h)return;t.a2x_um=!0,t.divHeight=n.h,t.divWidth=n.w,t.renderObj.reSize(n.w*e.devicePixelRatio,n.h*e.devicePixelRatio),t.setAlign(),t.dispatchEvent("onInitStage")}else t.autoResize&&(t.divWidth==n.w&&t.divHeight==n.h||(t.a2x_um=!0,t.divHeight=n.h,t.divWidth=n.w,t.renderObj.reSize(n.w*e.devicePixelRatio,n.h*e.devicePixelRatio),t.setAlign(),t.dispatchEvent("onResize")))},e.debug&&!n._isLoadedVConsole){n._isLoadedVConsole=!0;var u=document.createElement("script");u.onload=function(){new VConsole,u.onload=null},document.head.appendChild(u),u.src="libs/vconsole.min.js"}var d=c;d.a2x_ua=!0,d.a2x_um=!0,d._instanceType="annie.Stage",d.stage=d,d._isOnStage=!0,d.name=i;var _=document.getElementById(i);d.renderType=l,d.desWidth=o,d.desHeight=r,d.rootDiv=_,d.setFrameRate(a),d._scaleMode=s,d.anchorX=o>>1,d.anchorY=r>>1,0==l&&(d.renderObj=new e.CanvasRender(d)),d.renderObj.init(document.createElement("canvas"));var p=_;return d.mouseEvent=d._onMouseEvent.bind(d),p.addEventListener("mousedown",d.mouseEvent,!1),p.addEventListener("mousemove",d.mouseEvent,!1),p.addEventListener("mouseup",d.mouseEvent,!1),p.addEventListener("touchstart",d.mouseEvent,!1),p.addEventListener("touchmove",d.mouseEvent,!1),p.addEventListener("touchend",d.mouseEvent,!1),p.addEventListener("touchcancel",d.mouseEvent,!1),n.addUpdateObj(d),n.flushAll(),c}return __extends(n,t),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(t){var i=n;t!=i._pause&&(i._pause=t,t?e.Sound.stopAllSounds():e.Sound.resumePlaySounds(),e.globalDispatcher.dispatchEvent("onRunChanged",{pause:t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){var t=this;e!=t._scaleMode&&(t._scaleMode=e,t.setAlign())},enumerable:!0,configurable:!0}),n.prototype._render=function(e){e.begin(this.bgColor),t.prototype._render.call(this,e),e.end()},n.prototype._initMouseEvent=function(e,t,n,i,o){e._pd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y,e.timeStamp=o,e.identifier=i},n.prototype.flush=function(){var e=this;e.resize(),e._onUpdateFrame(1),e._updateMatrix(),e._render(e.renderObj)},n.prototype.setFrameRate=function(e){n._FPS=e},n.prototype.getFrameRate=function(){return n._FPS},n.prototype.getRootDivWH=function(e){var t=640,n=960;return""!=e.style.width?(t=parseInt(e.style.width),n=parseInt(e.style.height),this._isFullScreen=!1):(this._isFullScreen=!0,t=document.documentElement.clientWidth,n=document.documentElement.clientHeight),{w:t,h:n}},n.prototype._onMouseEvent=function(t){var i=this,o=i.renderObj.rootContainer,r=0,a=0;"_a2x_canvas"==t.target.id?(i._isMouseClickCanvas=!0,i.isPreventDefaultEvent&&("touchend"==t.type&&"ios"==e.osType&&i.iosTouchendPreventDefault&&t.preventDefault(),("touchmove"==t.type||"touchstart"==t.type&&"android"==e.osType)&&t.preventDefault())):i._isMouseClickCanvas=!1,i._isFullScreen||(r=o.getBoundingClientRect().left+o.scrollLeft,a=o.getBoundingClientRect().top+o.scrollTop);var s=n._dragDisplay;if(i.isMultiTouch&&t.targetTouches&&t.targetTouches.length>1){if(2==t.targetTouches.length){i._mP1.x=t.targetTouches[0].clientX-r,i._mP1.y=t.targetTouches[0].clientY-a,i._mP2.x=t.targetTouches[1].clientX-r,i._mP2.y=t.targetTouches[1].clientY-a;var l=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,c=e.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:l,dis:c}),i.muliPoints.length>=2){i._touchEvent instanceof e.TouchEvent||(i._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var u=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[u-1].angle-i.muliPoints[u-2].angle),i._touchEvent.scale=(i.muliPoints[u-1].dis-i.muliPoints[u-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[u-1].p1.x*e.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[u-1].p2.x*e.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[u-1].p1.y*e.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[u-1].p2.y*e.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;i._mouseDownPoint={},i._lastDpList={},s&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),e.EventDispatcher._totalMEC>0){var d,_=void 0,p=i._mouseEventTypes[t.type],h=[],f=void 0,v=void 0,m=void 0;if(t.changedTouches)if(i.isMultiMouse)_=t.changedTouches;else{var y=t.changedTouches[0];if(void 0==i._lastDpList[y.identifier]&&("onMouseDown"!=p||i._lastDpList.isStart))return;i._lastDpList.isStart=!0,_=[y]}else t.identifier="pc0",_=[t];for(var g=_.length,b=0;b<g;b++){if(v=0,h.length=0,m=_[b].identifier,f=i._mp.length>0?i._mp.shift():new e.Point,f.x=(_[b].clientX-r)*e.devicePixelRatio,f.y=(_[b].clientY-a)*e.devicePixelRatio,i.globalToLocal(f,i.sp),s&&s.stage&&s.parent){var x=s.x,E=s.y;s.parent.globalToLocal(f,i.lp),n._isDragCenter?(x=i.lp.x,E=i.lp.y):(n._lastDragPoint.x!=Number.MAX_VALUE&&(x+=i.lp.x-n._lastDragPoint.x,E+=i.lp.y-n._lastDragPoint.y),n._lastDragPoint.x=i.lp.x,n._lastDragPoint.y=i.lp.y),i.lp.x=x,i.lp.y=E,n._dragBounds.width!=Number.MIN_VALUE&&(x<n._dragBounds.x?x=n._dragBounds.x:x>n._dragBounds.x+n._dragBounds.width&&(x=n._dragBounds.x+n._dragBounds.width),E<n._dragBounds.y?E=n._dragBounds.y:E>n._dragBounds.y+n._dragBounds.height&&(E=n._dragBounds.y+n._dragBounds.height)),s.x=x,s.y=E}if(i._ml[v]instanceof e.MouseEvent?(d=i._ml[v],d.type=p):(d=new e.MouseEvent(p),i._ml[v]=d),h[h.length]=d,i._initMouseEvent(d,f,i.sp,m,t.timeStamp),v++,"onMouseDown"==p?i._mouseDownPoint[m]=f:"onMouseUp"==p&&i._mouseDownPoint[m]instanceof e.Point&&e.Point.distance(i._mouseDownPoint[m],f)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[v]instanceof e.MouseEvent?(d=i._ml[v],d.type="onMouseClick"):(d=new e.MouseEvent("onMouseClick"),i._ml[v]=d),h[h.length]=d,i._initMouseEvent(d,f,i.sp,m),v++),v>0){var w=i.hitTestPoint(f,!0),T=[];if(w instanceof e.DisplayObject)do{w instanceof e.Sprite&&0==w.mouseChildren&&(T.length=0),T[T.length]=w,w=w.parent}while(w instanceof e.DisplayObject);else T[0]=i;for(var u=T.length,O=u-1;O>=0;O--){w=T[O];for(var M=0;M<v;M++)!h[M]._pd&&w.hasEventListener(h[M].type)&&(h[M].currentTarget=w,h[M].target=T[0],w.globalToLocal(f,i.lp),h[M].localX=i.lp.x,h[M].localY=i.lp.y,w.dispatchEvent(h[M]))}T.reverse();for(var O=u-1;O>=0;O--){w=T[O];for(var M=0;M<v;M++)!h[M]._pd&&w.hasEventListener(h[M].type,!1)&&(h[M].currentTarget=w,h[M].target=T[v-1],w.globalToLocal(f,i.lp),h[M].localX=i.lp.x,h[M].localY=i.lp.y,w.dispatchEvent(h[M],null,!1))}if("onMouseDown"!=p){if((e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[m]instanceof Array){var P=i._lastDpList[m].length,S=T.length;u=P>S?P:S;for(var L=!1,C=void 0,R=void 0,O=1;O<u;O++)L||i._lastDpList[m][O]!=T[O]&&(L=!0,i._ml[v]instanceof e.MouseEvent?(C=i._ml[v],C.type="onMouseOver"):(C=new e.MouseEvent("onMouseOver"),i._ml[v]=C),i._initMouseEvent(C,f,i.sp,m),v++,i._ml[v]instanceof e.MouseEvent?(R=i._ml[v],R.type="onMouseOut"):(R=new e.MouseEvent("onMouseOut"),i._ml[v]=R),i._initMouseEvent(R,f,i.sp,m)),L&&(i._lastDpList[m][O]&&(w=i._lastDpList[m][O],!R._pd&&w.hasEventListener("onMouseOut")&&(R.currentTarget=w,R.target=i._lastDpList[m][P-1],w.globalToLocal(f,i.lp),R.localX=i.lp.x,R.localY=i.lp.y,w.dispatchEvent(R))),(w=T[O])instanceof e.DisplayObject&&!C._pd&&w.hasEventListener("onMouseOver")&&(C.currentTarget=w,C.target=T[S-1],w.globalToLocal(f,i.lp),C.localX=i.lp.x,C.localY=i.lp.y,w.dispatchEvent(C)))}i._mp[i._mp.length]=f}"onMouseUp"==p?(delete i._mouseDownPoint[m],delete i._lastDpList[m],i._lastDpList.isStart=!1,s&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)):i._lastDpList[m]=T}}}},n.prototype.setAlign=function(){var t=this,n=t.divHeight*e.devicePixelRatio,i=t.divWidth*e.devicePixelRatio,o=t.desHeight,r=t.desWidth;t.anchorX=r>>1,t.anchorY=o>>1;var a=n>=i,s=o>=r,l=1,c=1;if(t.x=i-r>>1,t.y=n-o>>1,t.autoSteering&&s!=a){var u=n;n=i,i=u}if("noScale"!=t._scaleMode)switch(l=n/o,c=i/r,t._scaleMode){case"noBorder":c>l?l=c:c=l;break;case"showAll":c<l?l=c:c=l;break;case"fixedWidth":l=c;break;case"fixedHeight":c=l}t.scaleX=c,t.scaleY=l,t.autoSteering?t.rotation=s==a?0:o>r?-90:90:t.rotation=0,t._viewRect.x=r-i/c>>1,t._viewRect.y=o-n/l>>1,t._viewRect.width=r-2*t._viewRect.x,t._viewRect.height=o-2*t._viewRect.y},Object.defineProperty(n.prototype,"viewRect",{get:function(){return this._viewRect},enumerable:!0,configurable:!0}),n.flushAll=function(){-1!=n._intervalID&&clearInterval(n._intervalID),n._intervalID=setInterval(function(){if(!n._pause)for(var e=n.allUpdateObjList.length,t=e-1;t>=0;t--)n.allUpdateObjList[t]&&n.allUpdateObjList[t].flush()},1e3/n._FPS>>0)},n.addUpdateObj=function(e){for(var t=!1,i=n.allUpdateObjList.length,o=0;o<i;o++)if(n.allUpdateObjList[o]==e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,i=0;i<t;i++)if(n.allUpdateObjList[i]==e){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this;n.removeUpdateObj(e);var i=e.rootDiv;i.removeEventListener("touchstart",e.mouseEvent,!1),i.removeEventListener("touchmove",e.mouseEvent,!1),i.removeEventListener("touchend",e.mouseEvent,!1),i.removeEventListener("touchcancel",e.mouseEvent,!1),i.removeEventListener("mousedown",e.mouseEvent,!1),i.removeEventListener("mousemove",e.mouseEvent,!1),i.removeEventListener("mouseup",e.mouseEvent,!1),i.style.display="none",i.parentNode&&i.parentNode.removeChild(i),e.renderObj=null},n._pause=!1,n._isLoadedVConsole=!1,n._dragDisplay=null,n._dragBounds=new e.Rectangle,n._lastDragPoint=new e.Point,n._isDragCenter=!1,n.allUpdateObjList=[],n._FPS=30,n._intervalID=-1,n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){
var t=function(t){function n(n){var i=t.call(this)||this;return i.rootContainer=null,i.viewPort=new e.Rectangle,i._instanceType="annie.CanvasRender",i._stage=n,i}return __extends(n,t),n.prototype.begin=function(e){var t=this,i=t.rootContainer,o=n._ctx;o.setTransform(1,0,0,1,0,0),""==e?o.clearRect(0,0,i.width,i.height):(o.fillStyle=e,o.fillRect(0,0,i.width,i.height))},n.prototype.beginMask=function(e){var t=this,i=n._ctx;i.save(),i.beginPath(),t.drawMask(e),i.closePath(),i.clip()},n.prototype.drawMask=function(e){var t=this,i=e._cMatrix,o=n._ctx;if(o.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),"annie.Shape"==e._instanceType)e._draw(o,!0);else if("annie.Sprite"==e._instanceType||"annie.MovieClip"==e._instanceType)for(var r=0;r<e.children.length;r++)t.drawMask(e.children[r]);else{var a=e._bounds;o.rect(0,0,a.width,a.height)}},n.prototype.endMask=function(){n._ctx.restore()},n.prototype.end=function(){},n.prototype.init=function(e){var t=this;t.rootContainer=e,t._stage.rootDiv.appendChild(t.rootContainer),t.rootContainer.id="_a2x_canvas",n._ctx=e.getContext("2d")},n.prototype.reSize=function(t,n){var i=this,o=i.rootContainer;o.width=t,o.height=n,i.viewPort.width=o.width,i.viewPort.height=o.height,o.style.width=Math.ceil(t/e.devicePixelRatio)+"px",o.style.height=Math.ceil(n/e.devicePixelRatio)+"px"},n.prototype.destroy=function(){var e=this;e.rootContainer=null,e._stage=null,n._ctx=null},n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._instanceType="annie.OffCanvasRender",e}return __extends(n,t),n.prototype.begin=function(e){var t=n.rootContainer,i=n._ctx;i.setTransform(1,0,0,1,0,0),""==e&&i.clearRect(0,0,t.width,t.height)},n.prototype.beginMask=function(e){var t=this,i=n._ctx;i.save(),t.drawMask(e),i.clip()},n.prototype.drawMask=function(e){var t=this,i=e._matrix,o=n._ctx;if(o.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),"annie.Shape"==e._instanceType)e._draw(o,!0);else if("annie.Sprite"==e._instanceType||"annie.MovieClip"==e._instanceType)for(var r=0;r<e.children.length;r++)t.drawMask(e.children[r]);else{var a=e._bounds;o.beginPath(),o.rect(0,0,a.width,a.height),o.closePath()}},n.prototype.endMask=function(){n._ctx.restore()},n.prototype.draw=function(t){if(t._visible&&t._cAlpha>0){var i=t.children,o=n._ctx,r=t._matrix;if(o.save(),o.globalAlpha*=t._alpha,o.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),null==t.children)0==t._offsetX&&0==t._offsetY||o.translate(t._offsetX,t._offsetY),t._draw(o);else for(var a=t.children.length,s=this,l=void 0,c=void 0,u=0;u<a;u++)c=i[u],c._isUseToMask>0||(l instanceof e.DisplayObject?c.mask instanceof e.DisplayObject&&c.mask.parent==c.parent?c.mask!=l&&(s.endMask(),l=c.mask,s.beginMask(l)):(s.endMask(),l=null):c.mask instanceof e.DisplayObject&&c.mask.parent==c.parent&&(l=c.mask,s.beginMask(l)),s.draw(c));o.restore()}},n.prototype.end=function(){},n.prototype.init=function(){n._ctx=n.rootContainer.getContext("2d")},n.prototype.reSize=function(t,i){var o=n.rootContainer;o.width=t,o.height=i,o.style.width=Math.ceil(t/e.devicePixelRatio)+"px",o.style.height=Math.ceil(i/e.devicePixelRatio)+"px"},n.prototype.destroy=function(){n.rootContainer=null,n._ctx=null},n}(e.AObject);e.OffCanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._req=null,e.headers=[],e.responseType="",e.url="",e.method="get",e.data=null,e._fqs=function(e,t){var n=[];if(e instanceof Object)for(var i in e)n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t&&(n=n.concat(t)),n.join("&")},e._fus=function(e,t){var n=this;if(void 0==t)return e;var i=[],o=e.indexOf("?");if(-1!=o){var r=e.slice(o+1);return i=i.concat(r.split("&")),e.slice(0,o)+"?"+n._fqs(t,i)}return e+"?"+n._fqs(t,i)},e._instanceType="annie.URLLoader",e}return __extends(n,t),n.prototype.loadCancel=function(){var e=this;e._req&&e._req.abort()},n.prototype.load=function(t,n){void 0===n&&(n="form");var i=this;if(i.loadCancel(),""==i.responseType){var o=t.split("."),r=o[o.length-1],a=r.split("?")[0].toLocaleLowerCase();"."+a==e.suffixName?e._isReleased?i.responseType="swf":i.responseType="js":i.responseType="mp3"==a||"ogg"==a||"wav"==a?"sound":"jpg"==a||"jpeg"==a||"png"==a||"gif"==a?"image":"css"==a?"css":"mp4"==a?"video":"svg"==a?"svg":"xml"==a?"xml":"json"==a?"json":"txt"==a?"text":"js"==a?"js":"unKnow"}var s=0;if(i._req instanceof XMLHttpRequest||(i._req=new XMLHttpRequest,i._req.withCredentials=!1,i._req.onprogress=function(e){i.dispatchEvent("onProgress",{loadedBytes:e.loaded,totalBytes:e.total})},i._req.onerror=function(e){s++,s>2?i.dispatchEvent("onError",{id:2,msg:e.message}):(i._req.abort(),i.data instanceof Object?i._req.send(i.data):i._req.send())},i._req.onload=function(){var t=new e.Event("onComplete"),n=i._req.response;t.data={type:i.responseType,response:null};var o;switch(i.responseType){case"css":o=document.createElement("link"),o.rel="stylesheet",o.href=i.url;break;case"video":o=i.url;break;case"json":o=JSON.parse(n);break;case"js":o="JS_CODE",e.Eval(n);break;default:o=n}t.data.response=o,i.data=null,i.responseType="",i.dispatchEvent(t)}),i.data instanceof Object&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(t,i.data),i.data=null):i.url=t,"swf"==i.responseType||"image"==i.responseType||"sound"==i.responseType?i._req.responseType="blob":i._req.responseType="",i._req.open(i.method,i.url,!0),i.headers.length>0){for(var l=0;l<i.headers.length;l+=2)i._req.setRequestHeader(i.headers[l],i.headers[l+1]);i.headers.length=0}if("form"==n)i._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),i._req.send(i._fqs(i.data,null));else{var c="application/json";"json"!=n&&(c="multipart/form-data"),i._req.setRequestHeader("Content-type",c+";charset=UTF-8"),i._req.send(i.data)}},n.prototype.addHeader=function(e,t){this.headers.push(e,t)},n.prototype.destroy=function(){var e=this;e.loadCancel(),e.headers=null,e.data=null,t.prototype.destroy.call(this)},n}(e.EventDispatcher);e.URLLoader=t}(annie||(annie={}));var annie;!function(e){function t(){R.load(O+"resource/"+T[M]+"/"+T[M]+".res.json?t="+I)}function n(e){var n=e.data.response;A.push(n),P+=n.length,M++,T[M]?t():(M=0,j=1/P,s())}function i(e){if(C){var t=window,n=e.data.totalBytes;t.swfBytes&&t.swfBytes[T[M]]&&(n=t.swfBytes[T[M]]),C(100*(D+e.data.loadedBytes/n*j)>>0)}}function o(e){var t;for(var n in e)if(t=e[n],1==t.t){if(!(t.f instanceof Object)){t.f=[];continue}if(t.tf>1){for(var i=t.f,o=i.length,r=null,s=null,l=[],c=0;c<o;c++){if((r=i[c].c)instanceof Object){for(var u in r){var d=r[u].at;if(void 0!=d&&-1!=d){if(0==d)l.push(u);else for(var _=0;_<l.length;_++)if(l[_]==d){l.splice(_,0,u);break}delete r[u].at}}if(s instanceof Object)for(var u in s)if(r[u]instanceof Object)if(-1!=r[u].at)for(var p in s[u])void 0==r[u][p]&&"fi"!=p&&(r[u][p]=s[u][p]);else delete r[u];else r[u]=s[u]}s=r}t.ol=l}}0==--U&&a()}function r(t){var n=T[M],i=t.data.response;if(e._isReleased){var r,s=new FileReader,l=0,c=0,u=1;s.readAsText(i.slice(i.size-u,i.size)),s.onload=function(){if(0==l)l++,c=u,u+=parseInt(s.result),s.readAsText(i.slice(i.size-u,i.size-c));else if(1==l)l++,c=u,u+=parseInt(s.result),s.readAsText(i.slice(i.size-u,i.size-c));else if(2==l)l++,c=0,u=0,r=JSON.parse(s.result),c=u,u+=r[0].src,U=r.length-1,s.readAsText(i.slice(c,u));else if(3==l){l++,e.Eval(s.result);for(var t=1;t<r.length;t++)!function(t){if(c=u,u+=r[t].src,"image"==r[t].type){var a=new Image;a.onload=B,a.src=URL.createObjectURL(i.slice(c,u)),e.res[n][r[t].id]=a}else if("sound"==r[t].type){var s=new Audio;if("ios"==e.osType){var l=new FileReader;l.onload=function(){s.src=l.result,B(null)},l.readAsDataURL(i.slice(c,u,"audio/mp3"))}else s.onloadedmetadata=B,s.src=URL.createObjectURL(i.slice(c,u,"audio/mp3"));e.res[n][r[t].id]=s}else if("json"==r[t].type&&"_a2x_con"==r[t].id){var d=new FileReader;d.onload=function(){e.res[n]._a2x_con=JSON.parse(d.result),o(e.res[n]._a2x_con),d.onload=null},d.readAsText(i.slice(c,u))}}(t)}}}else if("js"!=t.data.type&&"css"!=t.data.type)if(e.res[n][A[M][0].id]=i,"_a2x_con"==A[M][0].id)U++,o(i);else if("image"==t.data.type){U++;var d=new Image;d.onload=B,d.src=URL.createObjectURL(i),e.res[n][A[M][0].id]=d}else if("sound"==t.data.type){var _=new Audio;if(U++,"ios"==e.osType){var p=new FileReader;p.onload=function(){_.src=p.result,B(null)},p.readAsDataURL(i)}else _.onloadedmetadata=B,_.src=URL.createObjectURL(i);e.res[n][A[M][0].id]=_}else a();else a()}function a(){if(e._isReleased||A[M].shift(),S++,D=S/P,!e._isReleased&&A[M].length>0)s();else{e.res[T[M]]._f2x_had_loaded_scene=!0;var t={};t.sceneName=T[M],M++,t.sceneId=M,t.sceneTotal=T.length,M==T.length?(w=!1,L(t)):(L(t),s())}}function s(){var t=O+A[M][0].src;e._isReleased?(k.responseType="swf",t+="?v="+e._isReleased):t+="?v="+I,k.load(t)}function l(t){return!(void 0==e.res[t]||null==e.res[t]||!e.res[t]._f2x_had_loaded_scene)}function c(t){delete e.res[t];var n=window,i=n[t];for(var o in i)delete i[o];delete n[t],i=null}function u(t,n){return e.res[t][n]}function d(t,n){return new e.Bitmap(e.res[t][n])}function _(e,t,n){void 0===n&&(n=!1);var i;if(e._a2x_res_obj!=t){void 0!=t.tr&&1!=t.tr.length||(t.tr=[0,0,1,1,0,0]);var o=e._a2x_res_obj;if(void 0==t.al&&(t.al=1),n){var r=e.a2x_um;e._changeTransformInfo[0]||e._x==t.tr[0]||(e._x=t.tr[0],r=!0),e._changeTransformInfo[1]||e._y==t.tr[1]||(e._y=t.tr[1],r=!0),e._changeTransformInfo[2]||e._scaleX==t.tr[2]||(e._scaleX=t.tr[2],r=!0),e._changeTransformInfo[3]||e._scaleY==t.tr[3]||(e._scaleY=t.tr[3],r=!0),e._changeTransformInfo[4]||(e._skewX!=t.tr[4]&&(e._skewX=t.tr[4],e._rotation=0,r=!0),e._skewY!=t.tr[5]&&(e._skewY=t.tr[5],e._rotation=0,r=!0)),e.a2x_um=r,e._changeTransformInfo[5]||e._alpha==t.al||(e._alpha=t.al,e.a2x_ua=!0)}else o.tr!=t.tr&&(i=t.tr,e._x=i[0],e._y=i[1],e._scaleX=i[2],e._scaleY=i[3],e._skewX=i[4],e._skewY=i[5],e.a2x_um=!0),e._alpha!=t.al&&(e._alpha=t.al,e.a2x_ua=!0);void 0!=t.w&&(e.textWidth=t.w,e.textHeight=t.h),void 0!=t.t&&(-1==t.t&&e.initButton&&e.initButton(),e._a2x_mode=t.t),e._a2x_res_obj=t}}function p(t,n){var i,o=e.res[t]._a2x_con[n],r=decodeURIComponent(o[9]),a=decodeURIComponent(o[4]).replace(/\s(Regular|Medium)/,""),s=o[5],l=X[o[3]],c=N[o[2]],u=o[11],d=o[10],_=o[6],p=o[7],h=o[12],f=o[8];return 0==o[1]||1==o[1]?(i=new e.TextField,i.text=r,i.font=a,i.size=s,i.textAlign=l,i.lineType=c,i.italic=u,i.bold=d,i.color=_,i.textAlpha=p,i.border=h,i.lineHeight=f):(i=new e.InputText(o[2]),i.initInfo(r,_,l,s,a,h,f),i.italic=u,i.bold=d),i}function h(t,n){for(var i=e.res[t]._a2x_con[n][1],o=new e.Shape,r=0;r<i.length;r++)1==i[r][0]?(0==i[r][1]?o.beginFill(e.Shape.getRGBA(i[r][2][0],i[r][2][1])):1==i[r][1]?o.beginLinearGradientFill(i[r][2][0],i[r][2][1]):2==i[r][1]?o.beginRadialGradientFill(i[r][2][0],i[r][2][1]):o.beginBitmapFill(u(t,i[r][2][0]),i[r][2][1]),o.decodePath(i[r][3]),o.endFill()):(0==i[r][1]?o.beginStroke(e.Shape.getRGBA(i[r][2][0],i[r][2][1]),i[r][4],i[r][5],i[r][6],i[r][7]):1==i[r][1]?o.beginLinearGradientStroke(i[r][2][0],i[r][2][1],i[r][4],i[r][5],i[r][6],i[r][7]):2==i[r][1]?o.beginRadialGradientStroke(i[r][2][0],i[r][2][1],i[r][4],i[r][5],i[r][6],i[r][7]):o.beginBitmapStroke(u(t,i[r][2][0]),i[r][2][1],i[r][4],i[r][5],i[r][6],i[r][7]),o.decodePath(i[r][3]),o.endStroke());return o}function f(t,n){return new e.Sound(e.res[t][n])}function v(t){var n=new x;t.isNeedOption&&n.addHeader("X-Requested-With","XMLHttpRequest"),n.method=void 0==t.type?"get":t.type,n.data=void 0==t.data?null:t.data,n.responseType=void 0==t.responseType?void 0==t.dataType?"text":t.dataType:t.responseType,t.success instanceof Object&&n.addEventListener(e.Event.COMPLETE,t.success),t.error instanceof Object&&n.addEventListener(e.Event.ERROR,t.error),n.load(t.url)}function m(e,t,n,i){var o=window;1==t&&(o[n]=i);var r=document.createElement("script"),a=document.getElementsByTagName("head")[0];r.onload=function(e){0==t&&i(o[n]),e.path[0].src="",o[n]=null,delete o[n],a.removeChild(e.path[0])},a.appendChild(r);var s;s=e.indexOf("?")>0?"&":"?",r.src=e+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function y(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}function g(t,n,i){var o=window,r=e.res[n],a=r._a2x_con,s=a[i];t._a2x_res_class=s;var l,c=!1;if(s.tf>1&&(c=!0,void 0==s.timeLine)){var u=s.f.length,v=[],m=u>0?s.f[0].i:s.tf,y=0;if(m>0)for(var b=0;b<m;b++)v[v.length]=-1;if(u>0)for(l=0;l<u;l++){y=l+1<u?s.f[l+1].i:s.tf,m=s.f[l].i;for(var b=0;b<y-m;b++)v[v.length]=l}s.timeLine=v,s.f instanceof Object||(s.f=[]),s.a instanceof Object||(s.a={}),s.s instanceof Object||(s.s={}),s.e instanceof Object||(s.e={});var x={};if(s.l instanceof Object)for(var E in s.l)for(var w=0;w<s.l[E].length;w++)x[s.l[E][w]]=parseInt(E)+1;else s.l=[];s.label=x}var T=s.c;if(T instanceof Object){var O=[],M=T.length,P=null,S=0,L=null,C=0;for(l=0;l<M;l++){switch(S=a[T[l]]instanceof Array?a[T[l]][0]:a[T[l]].t){case 1:case 4:s.n&&s.n[l]&&t[s.n[l]]?P=t[s.n[l]]:(4==S?P=p(n,T[l]):0==T[l].indexOf("_$")?(P=a[T[l]].tf>1?new e.MovieClip:new e.Sprite,g(P,n,T[l])):P=new o[n][T[l]],s.n&&s.n[l]&&(t[s.n[l]]=P,P.name=s.n[l]));break;case 2:P=d(n,T[l]);break;case 3:P=h(n,T[l]);break;case 5:P=f(n,T[l]),P.name=T[l],t.addSound(P)}if(c)O[O.length]=P,5==S&&(P.isPlaying=!1,t._a2x_sounds instanceof Object||(t._a2x_sounds={}),t._a2x_sounds[l]=P);else{var E=l+1;5==S?P._loop=P._repeate=s.s[0][E]:(_(P,s.f[0].c[E]),void 0!=s.f[0].c[E].ma?(L=P,C=s.f[0].c[E].ma-1):L instanceof Object&&l<=C&&(P.mask=L,l==C&&(L=null)),t.addChildAt(P,0))}}if(c){var R=s.ol;if(R instanceof Object)for(var k=0;k<R.length;k++)t._a2x_res_children[k]=[R[k],O[R[k]-1]]}}}function b(e,t){return new window[e][t]}var x=e.URLLoader,E=e.Event;e._isReleased=!1,e.suffixName=".swf",e._shareSceneList=[],e.res={};var w,T,O,M,P,S,L,C,R,k,F,A,D,j,I=(new Date).getTime();e.loadScene=function(o,a,c,u){if(void 0===u&&(u=""),w&&(R.loadCancel(),k.loadCancel()),T=[],O=u,"string"==typeof o)if(l(o)){var d={};d.sceneName=o,d.sceneId=1,d.sceneTotal=1,c(d)}else e.res[o]={},T.push(o);else for(var _=o.length,p=0,h=0;h<_;h++)if(l(o[h])){var d={};d.sceneName=o[h],d.sceneId=++p,d.sceneTotal=_,c(d)}else e.res[o[h]]={},T.push(o[h]);if(0!=T.length)if(F||(R=new x,R.addEventListener(E.COMPLETE,n),k=new x,k.addEventListener(E.COMPLETE,r),k.addEventListener(E.PROGRESS,i),F=!0),U=0,D=0,M=0,P=0,S=0,w=!0,L=c,C=a,A=[],e._isReleased){if(e._shareSceneList.length>0&&!l("f2xShare"))for(var h=0;h<T.length;h++)if(e._shareSceneList.indexOf(T[h])>=0){T.unshift("f2xShare");break}M=0,P=T.length,j=1/P;for(var h=0;h<P;h++)A.push([{src:"src/"+T[h]+"/"+T[h]+e.suffixName}]);s()}else t()};var U=0,B=function(e){void 0!=e&&(URL.revokeObjectURL(e.target.url),e.target instanceof Image?e.target.onload=null:e.target.mediaResourceOnload=null),0==--U&&a()};e.isLoadedScene=l,e.unLoadScene=c,e.getResource=u,e.d=_;var N=["single","multiline"],X=["left","center","right"];e.ajax=v,e.jsonp=m,e.getQueryString=y,e.initRes=g,e.getDisplay=b,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.pause=!1,t.currentFrame=0,t.totalFrames=0,t._isLoop=0,t._delay=0,t._isFront=!0,t._cParams=null,t._loop=!1,t}return __extends(t,e),t.prototype.init=function(e,t,n,i,o){if(void 0===i&&(i=!0),void 0===o&&(o=!0),t<=0||"number"!=typeof t)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var a=60*t>>0;r.totalFrames=a>0?a:1,r.target=e,r._isTo=i,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var s in n)switch(s){case"useFrame":1==n[s]&&(r.totalFrames=t);break;case"yoyo":0==n[s]?r._isLoop=0:1==n[s]?r._isLoop=Number.MAX_VALUE:r._isLoop=n[s];break;case"delay":n.useFrame?r._delay=n[s]:r._delay=60*n[s]>>0;break;case"ease":r._ease=n[s];break;case"onUpdate":r._update=n[s];break;case"onComplete":r._completeFun=n[s];break;case"completeParams":r._cParams=n[s];break;case"loop":r._loop=n[s];break;default:"number"==typeof n[s]&&(i?(r._startData[s]=e[s],r._disData[s]=n[s]-e[s]):(r._startData[s]=n[s],r._disData[s]=e[s]-n[s],e[s]=n[s]))}},t.prototype.update=function(){var e=this;if(!e.pause){if(e._isFront&&e._delay>0)return void e._delay--;var t=e.currentFrame/e.totalFrames;if(!(t<0||t>1)){e._ease&&(t=e._ease(t));var i=!1;for(var o in e._disData)i=!0,e.target[o]=e._startData[o]+e._disData[o]*t;if(!i)return void n.kill(e.instanceId);e._update&&e._update(t);var r=e._completeFun,a=e._cParams;e._isFront?++e.currentFrame>e.totalFrames&&(e._loop?e.currentFrame=1:(r&&r(a,0==e._isLoop),e._isLoop>0?(e._isFront=!1,e.currentFrame=e.totalFrames,e._isLoop--):n.kill(e.instanceId))):--e.currentFrame<0&&(r&&r(a,0==e._isLoop),e._isLoop>0?(e._isFront=!0,e.currentFrame=1):n.kill(e.instanceId))}}},t.prototype.destroy=function(){var e=this;e._update=null,e._completeFun=null,e._ease=null},t}(e.AObject);e.TweenObj=t;var n=function(){function n(){}return n.to=function(e,t,i){return n.createTween(e,t,i,!0)},n.from=function(e,t,i){return n.createTween(e,t,i,!1)},n.createTween=function(i,o,r,a,s){void 0===s&&(s=!0);for(var l,c=n._tweenList.length,u=0;u<c;u++)if(l=n._tweenList[u],i==l.target)for(var d in l._startData)void 0!=r[d]&&(delete l._startData[d],delete l._disData[d]);return c=n._tweenPool.length,c>0?(l=n._tweenPool.shift(),l._instanceId=e.AObject._object_id++):l=new t,n._tweenList.push(l),l.init(i,o,r,a,s),l.instanceId},n.killAll=function(){for(var e,t=n._tweenList.length,i=0;i<t;i++)e=n._tweenList[i],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,n._tweenPool.push(e);n._tweenList.length=0},n.kill=function(e){for(var t,i=n._tweenList.length,o=0;o<i;o++)if(t=n._tweenList[o],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,n._tweenPool.push(t),n._tweenList.splice(o,1);break}},n.quadraticIn=function(e){return e*e},n.quadraticOut=function(e){return e*(2-e)},n.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},n.cubicIn=function(e){return e*e*e},n.cubicOut=function(e){return--e*e*e+1},n.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.quarticIn=function(e){return e*e*e*e},n.quarticOut=function(e){return 1- --e*e*e*e},n.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.quinticIn=function(e){return e*e*e*e*e},n.quinticOut=function(e){return--e*e*e*e*e+1},n.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},n.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},n.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},n.exponentialIn=function(e){return 0==e?0:Math.pow(1024,e-1)},n.exponentialOut=function(e){return 1==e?1:1-Math.pow(2,-10*e)},n.exponentialInOut=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},n.circularIn=function(e){return 1-Math.sqrt(1-e*e)},n.circularOut=function(e){return Math.sqrt(1- --e*e)},n.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.elasticIn=function(e){return 0==e?0:1==e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},n.elasticOut=function(e){return 0==e?0:1==e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},n.elasticInOut=function(e){return 0==e?0:1==e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},n.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.backInOut=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},n.bounceIn=function(e){return 1-n.bounceOut(1-e)},n.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.bounceInOut=function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5},n.flush=function(){for(var e=n._tweenList.length,t=e-1;t>=0;t--)n._tweenList[t]?n._tweenList[t].update():n._tweenList.splice(t,1)},n._tweenPool=[],n._tweenList=[],n}();e.Tween=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(n,i){void 0===i&&(i=0);var o=e.call(this)||this;o._currentCount=0,o._delay=0,o._frameDelay=0,o._currentFrameDelay=0,o._repeatCount=0,o._running=!1,n<=0&&(n=1);var r=o;return r._delay=n,r._frameDelay=Math.ceil(.06*n),r._repeatCount=i,t._timerList.push(r),o}return __extends(t,e),t.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},t.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},t.prototype.stop=function(){this._running=!1},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){e<0&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.kill=function(){for(var e=t._timerList.length,n=this,i=0;i<e;i++)if(t._timerList[i]._instanceId==n._instanceId){t._timerList.splice(i,1);break}},t.prototype.update=function(){var e=this;e._running&&++e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete")))},t.flush=function(){for(var e=t._timerList.length,n=e-1;n>=0;n--)t._timerList[n]?t._timerList[n].update():t._timerList.splice(n,1)},t.prototype.destroy=function(){this.kill(),e.prototype.destroy.call(this)},t._timerList=[],t}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){function t(e){window.location.href=e}function n(e){var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}e.Eval=eval.bind(window),e.debug=!1,e.version="3.2.1",e.osType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/android|mobile/;return/iphone|ipad|ipod|ios/.test(e)?"ios":t.test(e)?"android":"pc"}(),e.globalDispatcher=new e.EventDispatcher,e.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},e.navigateToURL=t,e.sendToURL=n,e._dRender=null,e.toDisplayDataURL=function(t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=""),e._dRender||(e.OffCanvasRender.rootContainer=document.createElement("canvas"),e._dRender=new e.OffCanvasRender,e._dRender.init()),null==n&&(n=t.getBounds());var r=Math.ceil(n.width),a=Math.ceil(n.height);return e._dRender.reSize(r,a),e._dRender.begin(o),e.OffCanvasRender._ctx.translate(-n.x,-n.y),e._dRender.draw(t),i?i.quality&&(i.quality/=100):i={type:"png"},e.OffCanvasRender.rootContainer.toDataURL("image/"+i.type,i.quality)},e.getStagePixels=function(t,n){var i=t.localToGlobal(new e.Point(n.x,n.y));return e.CanvasRender._ctx.getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();
window.AnnieRoot= window;
window.A2xExtend=__extends;
window.trace=console.log;